"use strict";const cartButton=document.querySelector("#cart-button"),modal=document.querySelector(".modal"),close=document.querySelector(".close");function toggleModal(){modal.classList.toggle("is-open")}cartButton.addEventListener("click",toggleModal),close.addEventListener("click",toggleModal);const buttonAuth=document.querySelector(".button-auth"),modalAuth=document.querySelector(".modal-auth"),closeAuth=document.querySelector(".close-auth"),logInForm=document.querySelector("#logInForm"),loginInput=document.querySelector("#login"),userName=document.querySelector(".user-name"),buttonOut=document.querySelector(".button-out");let login=localStorage.getItem("gloDelivery");function toggleModalAuth(){loginInput.style.borderColor="",modalAuth.classList.toggle("is-open")}function authorized(){console.log("authorized"),userName.textContent=login,buttonAuth.style.display="none",userName.style.display="inline",buttonOut.style.display="block",buttonOut.addEventListener("click",(function t(){login=null,localStorage.removeItem("gloDelivery"),checkAuth(),buttonAuth.style.display="",userName.style.display="",buttonOut.style.display="",buttonOut.removeEventListener("click",t)}))}function notAuthorized(){console.log("no authorized"),buttonAuth.addEventListener("click",toggleModalAuth),closeAuth.addEventListener("click",toggleModalAuth),logInForm.addEventListener("submit",(function t(e){e.preventDefault(),loginInput.value.trim()?(login=loginInput.value,localStorage.setItem("gloDelivery",login),toggleModalAuth(),buttonAuth.removeEventListener("click",toggleModalAuth),closeAuth.removeEventListener("click",toggleModalAuth),logInForm.remove.removeEventListener("submit",t),logInForm.reset(),checkAuth()):loginInput.style.borderColor="red"}))}function checkAuth(){login?authorized():notAuthorized()}checkAuth();